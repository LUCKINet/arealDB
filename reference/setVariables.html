<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set index and translation tables — setVariables • arealDB</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set index and translation tables — setVariables"><meta property="og:description" content="Use a pre-compiled table to create an index and/or translation table for the
target variables of an areal database."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">arealDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/arealDB.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="http://www.twitter.com/DerEhrmann" class="external-link">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/EhrmannS/arealDB" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set index and translation tables</h1>
    <small class="dont-index">Source: <a href="https://github.com/luckinet/arealDB/blob/HEAD/R/setVariables.R" class="external-link"><code>R/setVariables.R</code></a></small>
    <div class="hidden name"><code>setVariables.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Use a pre-compiled table to create an index and/or translation table for the
target variables of an areal database.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">setVariables</span><span class="op">(</span>
  input <span class="op">=</span> <span class="cn">NULL</span>,
  variable <span class="op">=</span> <span class="cn">NULL</span>,
  type <span class="op">=</span> <span class="st">"both"</span>,
  pid <span class="op">=</span> <span class="cn">NULL</span>,
  origin <span class="op">=</span> <span class="cn">NULL</span>,
  target <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>input</dt>
<dd><p>[<code>tibble(1)</code>]<br> a possibly already existing table based on
which the output should be constructed; see details.</p></dd>
<dt>variable</dt>
<dd><p>[<code>character(1)</code>]<br> name of the variable and thus of the
output file(s).</p></dd>
<dt>type</dt>
<dd><p>[<code>character(1)</code>]<br> the type of table to create, either an
index (<code>"id"</code>), a translation table (<code>"tt"</code>) or <code>"both"</code>
(default).</p></dd>
<dt>pid</dt>
<dd><p>[<code>character(1)</code>]<br> column in <code>input</code> that contains the
primary ID for the index table. If this is not given, an ID name is created
as <code>paste0(str_sub(variable, 1, 3), "ID")</code></p></dd>
<dt>origin</dt>
<dd><p>[<code>character(1)</code>]<br> column in <code>input</code> that contains
terms that shall be translated.</p></dd>
<dt>target</dt>
<dd><p>[<code>character(1)</code>]<br> column in <code>input</code> that contains
the standardised terms.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>No return value, called for the side effect of writing a table to the
  project root directory with name <code>paste0(type, "_", variable,
  ".csv")</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>This is the second function that is run in a project, as it creates
  index and translation tables for the target variables that shall be stored
  in an areal database.</p><ul><li><p>An index table relates an ID (given
  in <code>pid</code>) to the variable terms (given in <code>target</code>) and
  potentially to ancillary information. Such tables should be compiled before
  a project is started and should contain a clear set of values per variable
  (which will be used as standard vocabulary).</p></li>
<li><p>A translation table
  relates terms in foreign languages (given in <code>origin</code>) to terms in the
  target language (given in <code>target</code>). A "foreign language" does not
  only have to be another language per se, but could also be a vocabulary
  with a different set of terms that carry the same semantic meaning as the
  target terms. If target does not exist, the terms are simply registered as
  "original" to be used for fuzzy matching.</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.interactive.html" class="external-link">dev.interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span class="r-in">  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readr.tidyverse.org" class="external-link">readr</a></span><span class="op">)</span></span>
<span class="r-in">  <span class="va">inPath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"test_datasets"</span>, package <span class="op">=</span> <span class="st">"arealDB"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># start the example database</span></span>
<span class="r-in">  <span class="fu"><a href="makeExampleDB.html">makeExampleDB</a></span><span class="op">(</span>until <span class="op">=</span> <span class="st">"setPath"</span>, path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># create index from an already existing table</span></span>
<span class="r-in">  <span class="va">comm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span>file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">inPath</span>, <span class="st">"/id_commodities.csv"</span><span class="op">)</span>,</span>
<span class="r-in">                   col_types <span class="op">=</span> <span class="st">"iccc"</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu">setVariables</span><span class="op">(</span>input <span class="op">=</span> <span class="va">comm</span>, variable <span class="op">=</span> <span class="st">"commodities"</span>,</span>
<span class="r-in">               pid <span class="op">=</span> <span class="st">"faoID"</span>, target <span class="op">=</span> <span class="st">"simpleName"</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://orcid.org/0000-0002-2958-0796" class="external-link">Steffen Ehrmann</a>, <a href="https://orcid.org/0000-0001-8637-9071" class="external-link">Arne Rümmler</a>, <a href="https://orcid.org/0000-0003-3927-5856" class="external-link">Carsten Meyer</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

